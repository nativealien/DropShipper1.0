```
CREATE TABLE users (
  id           SERIAL PRIMARY KEY,              -- or INT GENERATED BY DEFAULT AS IDENTITY
  name         TEXT,
  email        CITEXT UNIQUE NOT NULL,          -- case-insensitive email (needs citext extension)
  password_hash TEXT NOT NULL,
  role         TEXT NOT NULL DEFAULT 'user',    -- or a proper enum
  created_at   TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

```
CREATE TABLE storefronts (
  id          SERIAL PRIMARY KEY,
  owner_id    INT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  title       TEXT NOT NULL,
  description TEXT
);
```

```
CREATE TABLE storefront_products (
  storefront_id INT NOT NULL REFERENCES storefronts(id) ON DELETE CASCADE,
  product_id    INT NOT NULL REFERENCES products(id)    ON DELETE CASCADE,
  PRIMARY KEY (storefront_id, product_id)
);
```

```
CREATE TABLE products (
  id             SERIAL PRIMARY KEY,
  provider       TEXT NOT NULL,           -- e.g. 'CJ', 'AliExpress', etc.
  pid            TEXT,                    -- provider’s product id
  sku            TEXT,
  name           TEXT NOT NULL,
  description    TEXT,
  image_url      TEXT,
  image_set      JSONB,                   -- if you have multiple images
  category_id    TEXT,                    -- provider’s category id? start as TEXT
  category_name  TEXT,
  created_at     TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

```
CREATE TABLE variants (
  id              SERIAL PRIMARY KEY,
  product_id      INT NOT NULL REFERENCES products(id) ON DELETE CASCADE,

  vid             TEXT,        -- provider variant id
  sku             TEXT,
  name            TEXT,
  key             TEXT,        -- e.g. color+size key, you decide
  standard        TEXT,        -- if this means something like "EU / US", keep TEXT for now

  length          NUMERIC(10,2),
  width           NUMERIC(10,2),
  height          NUMERIC(10,2),
  weight          NUMERIC(10,3),

  image_url       TEXT,

  buy_price       NUMERIC(10,2),
  suggested_price NUMERIC(10,2),
  margin_percent  NUMERIC(5,2),
  sell_price      NUMERIC(10,2),

  created_at      TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```